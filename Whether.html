<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Weather App (WeatherAPI)</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: white;
      text-align: center;
      transition: background 1s ease-in-out;
    }
    .container {
      padding: 40px;
      border-radius: 15px;
      background: rgba(0, 0, 0, 0.7);
      width: 100%;
      max-width: 500px;
    }
    h1 {
      font-size: 36px;
      margin-bottom: 20px;
    }
    input {
      padding: 10px;
      font-size: 18px;
      width: 75%;
      border-radius: 5px;
      border: none;
      outline: none;
      margin-top: 20px;
      margin-bottom: 20px;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #ffffff;
      color: #185a9d;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    button:hover {
      background-color: #185a9d;
      color: #fff;
    }
    .weather-info {
      margin-top: 20px;
      font-size: 20px;
      animation: fadeIn 0.6s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    img.weather-icon {
      width: 60px;
      margin-top: 20px;
    }
    .loading {
      font-size: 24px;
      color: #fff;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>üåç Weather App</h1>
    <input type="text" id="cityInput" placeholder="Enter city name" />
    <button onclick="getWeather()">Get Weather</button>
    
    <div class="loading" id="loadingText" style="display: none;">Loading...</div>
    <div class="weather-info" id="weatherInfo"></div>
  </div>

  <script>
    document.getElementById("cityInput").addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        getWeather();
      }
    });

    async function getWeather() {
      const city = document.getElementById("cityInput").value.trim();
      const apiKey = '0c63577fb6b342d3a3544327251305'; // Your API Key
      const url = `https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${encodeURIComponent(city)}`;

      if (!/^[a-zA-Z\s]+$/.test(city)) {
        document.getElementById("weatherInfo").innerHTML = "‚ö†Ô∏è Please enter a valid city name.";
        return;
      }

      document.getElementById("loadingText").style.display = "block";
      document.getElementById("weatherInfo").innerHTML = "";

      try {
        const res = await fetch(url);
        const data = await res.json();
        document.getElementById("loadingText").style.display = "none";

        if (data.error) {
          document.getElementById("weatherInfo").innerHTML = `‚ö†Ô∏è ${data.error.message || 'City not found.'}`;
        } else {
          let condition = data.current.condition.text.toLowerCase();
          let color1 = "#185a9d", color2 = "#43cea2";

          if (condition.includes("sunny")) {
            color1 = "#ffb347"; color2 = "#ffcc33";
          } else if (condition.includes("cloud")) {
            color1 = "#d3d3d3"; color2 = "#a1a1a1";
          } else if (condition.includes("rain")) {
            color1 = "#4f6d7a"; color2 = "#2f4f4f";
          } else if (condition.includes("clear")) {
            color1 = "#85c1e9"; color2 = "#1f6f8b";
          } else if (condition.includes("snow")) {
            color1 = "#e0eafc"; color2 = "#cfdef3";
          }

          document.body.style.background = `linear-gradient(to top right, ${color1}, ${color2})`;

          document.getElementById("weatherInfo").innerHTML = `
            <p><strong>${data.location.name}, ${data.location.country}</strong></p>
            <p>üå° Temperature: ${data.current.temp_c}¬∞C</p>
            <p>‚òÅ Weather: ${data.current.condition.text}</p>
            <p>üí® Wind: ${data.current.wind_kph} km/h</p>
            <p>üïí Last updated: ${data.current.last_updated}</p>
            <img src="https:${data.current.condition.icon}" alt="weather icon" class="weather-icon" />
          `;
        }
      } catch (err) {
        document.getElementById("loadingText").style.display = "none";
        document.getElementById("weatherInfo").innerHTML = '‚ùå Network error or invalid data.';
      }
    }
  </script>

</body>
</html>
